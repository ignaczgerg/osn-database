{% extends 'base.html' %}

{% block head %}
Solute rejection prediction
{% endblock %}
{% block body %}



<div class="card">
    <div class="card-header">
      Machine learning solute rejection prediction
    </div>
    <div class="card-body">
      <h5 class="card-title">Machine learning based solute rejection prediction</h5>
      <p class="card-text" style="font-size:130%">
        Demo page for predicting solute rejection in organic solvent nanofiltration.
        The model uses a Quantitative Structure-Activity Relationship (QSAR) model with partial least squares regression (PLS).<br></br>
        Currently, the model uses the SMILES of a molecule (Simplified molecular-input line-entry system). 
        SMILES is a string representation of a molecule. 
        The SMILES of a given molecule can copy-paster (for example from ChemDraw) to the input field. 
        The current demo model only works for methanol and for the Duramem 150 membrane. 
        </p>
        <img class="pls_model_image" src="/static/pls-model.png" alt="Card image cap" width="460" height="220">

        <div class="content">
            {% if tasks|length < 1 %}
            <p style="text-align: center">Please enter your SMILES below!</p>
            {% else %}

            <table class="table">
                <thead>
                    <tr>
                        <th rowspan="2">Entered SMILES</th>
                        <th rowspan="2">Predicted rejection (%)</th>
                        <th rowspan="2">Structure</th>
                    </tr>
                    <tr>
                    </tr>
                    <tr>
                        <td>{{ tasks[0] }}</td>
                        <td>{{ tasks[1] }}</td>
                        <td><img src="{{url_for('static', filename='dataset_image.png')}}" alt="dataset_image" height="80" width="80"></td>
                    </tr>
                </thead>
                <tbody>
                </tbody>
              </table> 
            {% endif %}
        
            <div class="form">
                <form style="text-align: center" action="/pls-prediction" method="POST">
                    <input type="text" name="content" id="content">
                    <input type="submit" value="Predict rejection">
                </form>
            </div>
            
        </div>

    </div>
  </div>


<!-- 
<div class="content">
    <h5>PLS prediction module 
    </h5>
    {% if tasks|length < 1 %}
    <p style="text-align: center">Please enter your SMILES below!</p>
    {% else %}
    <table>
        <tr>
			<th rowspan="2">Entered SMILES</th>
			<th rowspan="2">Predicted rejection (%)</th>
			<th rowspan="2">Structure</th>
		</tr>
		<tr>
		</tr>
            <tr>
                <td>{{ tasks[0] }}</td>
                <td>{{ tasks[1] }}</td>
                <td><img src="{{url_for('static', filename='dataset_image.png')}}" alt="dataset_image" height="200" width="200"></td>
            </tr>
    </table>
    {% endif %}

    <div class="form">
        <form action="/pls-prediction" method="POST">
            <input type="text" name="content" id="content">
            <input type="submit" value="Get rejection">
        </form>
    </div>
    <p></p>
    <p>Currently, the model only works well with molecules having more than five atoms.<Br></Br>Generally, for molecules having less than 5 atoms, the model will display 0% rejection. 
    </p>
</div> -->
{% endblock %}